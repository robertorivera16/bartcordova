<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1">
		<meta name="format-detection" content="telephone=no">
		<meta name="author" content="Simon Prickett">
		<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; connect-src http://bart.crudworks.org">
		<title>BART Cordova</title>
		<!-- Bootstrap and Custom app CSS overrides -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/custom.css" rel="stylesheet">

		<!-- Handlebars Templates -->
		<script id="stationListHeaderTemplate" type="text/x-handlebars-template">
			<div class="pull-right">
				<button type="button" class="btn btn-default btn-sm" id="reloadButton">
  					<span class="glyphicon glyphicon-retweet"></span>
  				</button>
  			</div>
			<h3>BART Departures</h3>
		</script>

		<script id="stationListTemplate" type="text/x-handlebars-template">
			<div class="panel panel-default">
				<ul class="list-group" id="stations">
					{{#each stations}}
						<li id="{{abbr}}" class="list-group-item">{{name}}</li>
					{{/each}}
				</ul>
			</div>
		</script>

		<script id="closestStationTemplate" type="text/x-handlebars-template">
			<div class="alert alert-info alert-dismissable" role="alert">
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<span id="nearestStationButton"><strong>Closest</strong> - {{station.name}} ({{round station.distance}} miles)</span>
			</div>
		</script>

		<script id="serviceAnnouncementTemplate" type="text/x-handlebars-template">
			<div class="alert alert-danger alert-dismissable" role="alert">
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<strong>{{formatTime announcement.time}}</strong> - {{announcement.bsa.description}}
			</div>
		</script>

		<script id="trainCountTemplate" type="text/x-handlebars-template">
			<div class="alert alert-success alert-dismissable" role="alert">
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<strong>{{formatTime systemStatus.time}}</strong> - {{systemStatus.traincount}} trains operating.
			</div>
		</script>

		<script id="stationHeaderTemplate" type="text/x-handlebars-template">
			<button type="button" class="btn btn-primary btn-sm" id="backButton"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Back</button>
			<div class="pull-right">
				<button type="button" class="btn btn-default btn-sm" id="reloadButton">
  					<span class="glyphicon glyphicon-retweet"></span>
  				</button>
  			</div>
			<h4>{{stationName}}</h4>
			<ul class="nav nav-tabs stationTabs">
  				<li role="presentation" class="active"><a href="#">Departures</a></li>
  				<li role="presentation"><a href="#">Info</a></li>
  				<li role="presentation"><a href="#">Tickets</a></li>
			</ul>
		</script>

		<script id="stationDeparturesTemplate" type="text/x-handlebars-template">
			<div class="tab-content">
				{{#each destinations}}
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">{{destination}}</h3>
						</div>
						<div class="panel-body">
							<ul class="list-group">
								{{#each estimate}}
									<li class="list-group-item">{{minutes}} mins, {{length}} cars</li>
								{{/each}}
							</ul>
						</div>
					</div>
				{{/each}}
			</div>
		</script>
	</head>
	<body>
		<nav class="navbar navbar-fixed-top">
			<div class="container">
    			<div class="navbar-header">
    			</div>
		    </div>
		</nav>
		<div class="container" id="app">
		</div>

		<!-- Cordova JS -->
		<script type="text/javascript" src="cordova.js"></script>

		<!-- JQuery and Bootstrap JS -->
		<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>

		<!-- Handlebars JS -->
		<script type="text/javascript" src="js/handlebars.min.js"></script>

		<!-- Application JS -->
		<script type="text/javascript" src="js/app.js"></script>
	</body>
</html>
